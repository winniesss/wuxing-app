# 徽章成就系统使用说明

## 📋 功能概述

在第二个Tab（地图页面）中，新增了"艺术馆"视图，展示用户完成课程后解锁的徽章。

## 🎯 功能特点

1. **自动解锁**：完成课程（全部答对）后自动解锁对应徽章
2. **挂轴展示**：徽章以中国传统挂轴形式展示
3. **视图切换**：在地图页面可以切换"地图"和"艺术馆"两种视图
4. **实时更新**：徽章解锁后立即在艺术馆中显示

## 📁 文件结构

```
src/
├── utils/
│   └── badges.js              # 徽章配置和工具函数
├── components/
│   ├── BadgeGallery.jsx       # 艺术馆组件
│   └── BadgeGallery.css       # 艺术馆样式
└── LessonMap.jsx              # 地图页面（已集成艺术馆）
```

## 🎨 徽章资源

徽章图片需要放在 `public/assets/badge/` 目录下：

```
public/
└── assets/
    └── badge/
        ├── badge_wood.svg
        ├── badge_wood.png
        ├── badge_fire_yinyang.svg
        ├── badge_fire_yinyang.png
        ├── badge_fiveElementsCycle.svg
        ├── badge_fiveElementsCycle.png
        ├── badge_talisman_basic.svg
        └── badge_talisman_basic.png
```

## 🔧 配置徽章

### 1. 添加课程与徽章的映射

在 `src/utils/badges.js` 中：

```javascript
export const lessonBadgeMap = {
  1: 'badge_wood',
  2: 'badge_fire_yinyang',
  3: 'badge_fiveElementsCycle',
  4: 'badge_talisman_basic',
  5: 'badge_new',  // 新课程对应的徽章
};
```

### 2. 添加徽章配置

```javascript
export const badgeConfig = {
  badge_new: {
    id: 'badge_new',
    name: '新徽章名称',
    description: '完成XX课程',
    svgPath: '/assets/badge/badge_new.svg',
    pngPath: '/assets/badge/badge_new.png',
    color: '#颜色代码',
  },
};
```

## 📝 使用方式

1. **查看艺术馆**：
   - 进入第二个Tab（地图页面）
   - 点击顶部的"艺术馆"按钮
   - 查看已解锁的徽章

2. **解锁徽章**：
   - 完成课程（全部答对）
   - 系统自动解锁对应徽章
   - 徽章会出现在艺术馆中

## 🎨 样式说明

- **挂轴样式**：国风设计，上下有卷轴装饰
- **已解锁**：显示徽章图片，有光晕效果
- **未解锁**：显示锁定图标和关卡编号
- **空位**：显示加号占位符

## 🔄 扩展性

系统支持扩展更多徽章：
- 五行五枚（木、火、土、金、水）
- 阴阳体系
- 天干十个
- 符箓等级
- 修行等级
- 四象（青龙、白虎、朱雀、玄武）

只需在 `badges.js` 中添加配置即可。

## ⚠️ 注意事项

1. **徽章资源**：确保SVG和PNG文件都已放置在正确目录
2. **课程映射**：每个课程只能对应一个徽章（1对1）
3. **解锁条件**：只有全部答对才算完成，才会解锁徽章
4. **数据存储**：徽章解锁状态存储在 localStorage 中

## 🐛 调试

如果徽章没有显示：

1. 检查徽章文件是否存在
2. 检查课程ID与徽章ID的映射是否正确
3. 检查localStorage中是否有解锁记录
4. 打开浏览器控制台查看错误信息

## 📱 响应式

艺术馆在移动端和桌面端都有良好的显示效果：
- 移动端：3列网格布局
- 桌面端：3列网格布局，间距更大

